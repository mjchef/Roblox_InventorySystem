# Описание игровых механик: Инвентарь и Верстак

Данный проект демонстрирует реализацию базовых систем управления предметами и интерфейсом взаимодействия в Roblox. Ключевой акцент сделан на надёжной клиент-серверной архитектуре и модульной организации кода.

## 1. Система инвентаря

Полностью функциональная система управления игровым инвентарем, обеспечивающая безопасное хранение и динамическое отображение предметов.

### Ключевые особенности:
- **Серверный контроль состояния:** Все данные инвентаря хранятся и управляются исключительно на сервере (`ServerStorage/Modules/InventoryManager`, `ServerScriptService/PlayerDataManager`) для предотвращения читов и обеспечения устойчивости данных.
- **Гибкий каталог предметов:** Использование централизованного `ItemsCatalog` (`ReplicatedStorage/Modules/ItemsCatalog`) позволяет легко добавлять новые типы предметов с заданными свойствами (иконка, тип, максимальный стак).
- **Динамический UI:** Пользовательский интерфейс инвентаря (`StarterGui/InventoryUi`) динамически заполняется актуальными данными, полученными от сервера, с использованием `UIGridLayout` для упорядоченного отображения слотов.
- **Клиент-серверное взаимодействие:** Запросы на получение данных инвентаря с клиента к серверу выполняются через `RemoteFunction` (`ReplicatedStorage/RemoteFunctions/RequestPlayerInventory`), обеспечивая безопасный и контролируемый обмен информацией.
- **Масштабируемость:** Архитектура позволяет легко расширять количество предметов и слотов инвентаря.

## 2. Система крафта: Взаимодействие с верстаком и управление материалами

Реализована основа для интерактивной системы крафта, позволяющая игрокам взаимодействовать с верстаком, просматривать и подготавливать материалы для будущего создания предметов.

### Ключевые особенности:
- **Инициирование с игрового мира:** Открытие интерфейса верстака происходит при физическом взаимодействии игрока с объектом "Верстак" в мире (через `ClickDetector`), который инициирует событие на клиентскую сторону.
- **Клиентская обработка UI:** Весь интерфейс верстака (`StarterGui/WorkbenchUi`) и его логика управляются на стороне клиента (`LocalScript`), что обеспечивает высокую отзывчивость и минимизирует нагрузку на сервер.
- **Модульный UI-менеджер:** Централизованный `UIManager` (`ReplicatedStorage/Modules/UIManager`) используется для управления всеми аспектами клиентского UI, включая инициализацию слотов, их очистку и динамическое обновление. Это обеспечивает чистоту кода, его переиспользуемость и облегчает дальнейшую разработку.
- **Окно выбора материалов:** Отдельный фрейм (`WorkbenchUi/AddMaterialsFrame`) динамически отображает только те предметы из инвентаря игрока, которые классифицированы как "Материалы" (фильтрация по свойству `Type` из `ItemsCatalog`).
- **Интерактивные слоты верстака:** 24 слота для ингредиентов в окне крафта (`WorkbenchUi/WorkbenchFrame/GridFrame`) поддерживают выбор. При клике на слот, он визуально подсвечивается (используя `UIStroke`), а также динамически появляется/скрывается окно выбора материалов, в зависимости от состояния выбора. Состояние выбранного слота отслеживается на клиенте.
- **Архитектурная готовность к крафту:** Текущая реализация закладывает основу для будущих этапов крафта, включая:
    - Выбор конкретных материалов из окна материалов.
    - Ввод количества материалов.
    - Размещение материалов в слотах верстака.
    - Отправка запроса на сервер для проверки рецепта, расхода ресурсов и выдачи готового предмета.
## Возможные будущие изменения и расширения

Разработанные системы спроектированы с учетом дальнейшего развития и расширения функционала:

### Система инвентаря:
- **Уведомления об изменениях:** Внедрение системы `RemoteEvent` для отправки уведомлений с сервера на клиент при каждом изменении инвентаря, обеспечивая его обновление в реальном времени без необходимости повторного открытия UI.
- **Функционал перетаскивания (Drag & Drop):** Добавление возможности перетаскивать предметы между слотами инвентаря, а также из инвентаря в слоты верстака.
- **Сортировка и фильтрация:** Реализация функций сортировки предметов (по типу, имени, количеству) и фильтрации (показывать только инструменты, только материалы и т.д.).
- **Разделение стаков:** Добавление возможности разделить стак предметов на несколько слотов.

### Система крафта:
- **Полная реализация логики крафта:**
    - **Выбор материалов:** Позволить игроку выбирать материал из окна материалов и переносить его в выбранный слот верстака с указанием количества.
    - **Управление рецептами:** Создание серверного модуля для хранения и проверки рецептов крафта (необходимые материалы, их количество и результат).
    - **Обработка кнопки "Крафтить":** При нажатии на кнопку, клиент отправляет состояние верстака на сервер. Сервер проверяет наличие рецепта, достаточность материалов в инвентаре игрока, расходует их и добавляет скрафченный предмет в инвентарь игрока.
    - **Отображение результата:** В слот результата (`ResultSlotFrame`) будет выводиться иконка и название предмета, который можно скрафтить, основываясь на текущих материалах в верстаке и доступных рецептах.
- **Анимации и эффекты:** Добавление визуальных и звуковых эффектов для процесса крафта.
- **Множественные верстаки:** Расширение системы для поддержки различных типов верстаков с уникальными рецептами.    